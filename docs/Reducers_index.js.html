<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Reducers/index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Reducers/index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { combineReducers } from "redux";
import {
  LOGIN_REQUEST,
  LOGIN_SUCCESS,
  LOGIN_FAILURE,
  LOGOUT_SUCCESS
} from "../Actions/user";

/**
 * This file encapsulates a series of reducer contants which are then combined together to form a master reducer for the Redux store. Currently, there are three reducers that get connected. Each reducer handles a different part of the state: user, sounds, and controls.
 */

/**
 * user reducer: this handles state functions for everything pertaining to the user and the authentication that accompanies them. Any time an action is dispatched for logging in, logging out, or authenticating the user, this reducer handles the action appropriately. It also sets the state to whatever the auth token in local storage dictates.
 */

const user = (
  state = {
    isFetching: false,
    isAuthenticated: localStorage.getItem("id_token") ? true : false
  },
  action
) => {
  switch (action.type) {
    case LOGIN_REQUEST:
      return {
        ...state,
        isFetching: true,
        isAuthenticated: false,
        user: action.creds
      };
    case LOGIN_SUCCESS:
      return {
        ...state,
        isFetching: false,
        isAuthenticated: true,
        errorMessage: ""
      };
    case LOGIN_FAILURE:
      return {
        ...state,
        isFetching: false,
        isAuthenticated: false,
        errorMessage: action.message
      };
    case LOGOUT_SUCCESS:
      return {
        ...state,
        isFetching: true,
        isAuthenticated: false
      };
    default:
      return state;
  }
};

/**
 * sounds reducer: describes the state of whatever sound clips have been loaded into the browser. The state includes a 'loadedSounds' array which contains all of the current sounds loaded on the clientside. They can be rendered accordingly by the correct components. It also determines whether an asynchronous request is being made to load more sounds from the server.
 */

const sounds = (
  state = {
    isFetching: false,
    loadedSounds: []
  },
  action
) => {
  switch (action.type) {
    case "RECEIVE_SOUNDS":
      return {
        ...state,
        isFetching: false,
        loadedSounds: state.loadedSounds.concat(action.sounds)
      };
    case "REQUEST_SOUNDS":
      return {
        ...state,
        isFetching: true
      };

    default:
      return state;
  }
};

/**
 * controls reducer: describes all aspects of the user interface on the homepage, and how playing of sound files is handled. It encapsulates the state of what sound is playing, where it is, and what info is associated with that sound.
 */

const controls = (
  state = {
    activeID: null,
    playing: false,
    looping: true,
    mute: false,
    playerInFocus: true,
    activeInfo: {}
  },
  action
) => {
  switch (action.type) {
    case "PLAY_SOUND":
      return {
        ...state,
        playing: true,
        activeID: action.id
      };

    case "PAUSE_SOUND":
      return {
        ...state,
        playing: false,
        activeID: action.id
      };
    case "ADJUST_FOCUS":
      return {
        ...state,
        playerInFocus: action.inFocus
      };

    default:
      return state;
  }
};

//combine all of the reducers and export them for the store to use.
const aphexApp = combineReducers({ controls, sounds, user });

export default aphexApp;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Account.html">Account</a></li><li><a href="App.html">App</a></li><li><a href="ItemInfo.html">ItemInfo</a></li><li><a href="LoopButton.html">LoopButton</a></li><li><a href="MuteButton.html">MuteButton</a></li><li><a href="Navbar.html">Navbar</a></li><li><a href="PlayButton.html">PlayButton</a></li><li><a href="Player.html">Player</a></li><li><a href="playPressed.html">playPressed</a></li><li><a href="Signin.html">Signin</a></li><li><a href="Upload.html">Upload</a></li></ul><h3>Global</h3><ul><li><a href="global.html#controls">controls</a></li><li><a href="global.html#fetchSounds">fetchSounds</a></li><li><a href="global.html#loginUser">loginUser</a></li><li><a href="global.html#logoutUser">logoutUser</a></li><li><a href="global.html#mapDispatchToProps">mapDispatchToProps</a></li><li><a href="global.html#mapStateToProps">mapStateToProps</a></li><li><a href="global.html#signUpUser">signUpUser</a></li><li><a href="global.html#sounds">sounds</a></li><li><a href="global.html#uploadSound">uploadSound</a></li><li><a href="global.html#user">user</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Feb 27 2018 23:52:20 GMT-0500 (EST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
